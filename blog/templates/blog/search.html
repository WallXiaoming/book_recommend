{% extends "blog/base.html" %}
{% block content %}
<!--    <div class='row'>-->
<!--        <div class='col-12 col-md-6 mx-auto my-5 py-5'>-->
<!--        <form method='GET' class='' action='.'>-->

<!--            <div class="input-group form-group-no-border mx-auto" style="margin-bottom: 0px; font-size: 32px;">-->
<!--                <span class="input-group-addon cfe-nav" style='color:#000'>-->
<!--                    <i class="fa fa-search" aria-hidden="true"></i>-->
<!--                </span>-->
<!--                <input type="text" name="q" data-toggle="popover" data-placement="bottom" data-content="Press enter to search" class="form-control cfe-nav mt-0 py-3" placeholder="Search..." value="" style="" data-original-title="" title="" autofocus="autofocus">-->
<!--            </div>-->

<!--        </form>-->

<!--        </div>-->
<!--    </div>-->


    <form class="navbar-form navbar-left" method="get">
        <div class="form-group">
            {% csrf_token %}
            <input type="text" name="q" data-toggle="popover" class="form-control" value="{{ request.GET.q }}" placeholder="输入你感兴趣的图书……">
<!--            <input type="text" name="q" data-toggle="popover" data-placement="bottom" data-content="content" class="form-control cfe-nav mt-0 py-3" placeholder="Search..." value="" style="" data-original-title="" title="" autofocus="autofocus">-->
        </div>
        <button type="submit" class="btn btn-default">搜 索</button>
    </form>
    <br/>

    {% for object in object_list %}
        <article class="media content-section">

<!--          <div class="media-body">-->
<!--            <div class="article-metadata">-->
<!--              <a class="mr-2" href="#">{{ object.author.id }}</a>-->
<!--              <small class="text-muted">{{ object.date_posted|date:"F d, Y" }}</small>-->
<!--            </div>-->
            <h5><a class="article-title" href="#">{{ object.title }}</a></h5>
<!--            <p class="article-content">{{ post.content }}</p>-->
<!--          </div>-->
        </article>
    {% endfor %}




    {% if is_paginated %}

      {% if page_obj.has_previous %}
        <a class="btn btn-outline-info mb-4" href="?page=1{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">首页</a>
        <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.previous_page_number }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">上一页</a>
      {% endif %}

      {% for num in page_obj.paginator.page_range %}
        {% if page_obj.number == num %}
          <a class="btn btn-info mb-4" href="?page={{ num }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">{{ num }}</a>
        {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
          <a class="btn btn-outline-info mb-4" href="?page={{ num }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">{{ num }}</a>
        {% endif %}
      {% endfor %}

      {% if page_obj.has_next %}
        <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.next_page_number }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">下一页</a>
        <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.paginator.num_pages }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">页尾</a>
      {% endif %}

    {% endif %}


<!--<div class="panginator">-->
<!--<nav aria-label="Page navigation">-->
<!--    <ul class="pagination pagination-lg">-->
<!--        {% if lists.has_previous %}-->
<!--        <li>-->
<!--            <a href="?page={{ lists.previous_page_number }}" aria-label="Previous">-->
<!--                <span aria-hidden="true">&laquo;</span>-->
<!--            </a>-->
<!--        </li>-->
<!--        {% else %}-->
<!--        <li>-->
<!--            <a href="?page={{ lists.number }}" aria-label="Previous">-->
<!--                <span aria-hidden="true">&laquo;</span>-->
<!--            </a>-->
<!--        </li>-->
<!--        {% endif %}-->

<!--        {% for page in pages.page_range %}-->
<!--        <li {% if page == lists.number %} class="active" {% endif %}><a-->
<!--                href="?page={{ page }}">{{ page }}</a></li>-->
<!--        {% endfor%}-->

<!--        {% if lists.has_next %}-->
<!--        <li>-->
<!--            <a href="?page={{ lists.next_page_number }}" aria-label="Next">-->
<!--                <span aria-hidden="true">&raquo;</span>-->
<!--            </a>-->
<!--        </li>-->
<!--        {% else %}-->
<!--        <li>-->
<!--            <a href="?page={{ lists.number}}" aria-label="Next">-->
<!--                <span aria-hidden="true">&raquo;</span>-->
<!--            </a>-->
<!--        </li>-->
<!--        {% endif %}-->
<!--    </ul>-->
{% endblock content %}
